<!DOCTYPE html>
<html lang="it" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>RomaTreMotors - Registrazione</title>
    <link rel="stylesheet" href="/css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" 
          integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
</head>
<body>
    <div class="container-xl text-center mt-5">
        <form th:action="@{/registrazione}" method="post" novalidate>

            <h1 class="mb-4">Registrazione</h1>

            <!-- Messaggi di errore globali -->
            <div th:if="${errorsGlobal != null}" class="mb-3">
                <p th:each="err : ${errorsGlobal}" th:text="${err}" class="text-danger"></p>
            </div>

            <!-- Username -->
            <div class="mb-3">
                <label for="username" class="form-label">Username</label>
                <input type="text" id="username" name="username" class="form-control" required 
                       placeholder="Inserisci qui il tuo username"
                       th:value="${username != null} ? ${username} : ''">
                <div th:if="${errorsUsername != null}" class="text-danger small" th:each="err : ${errorsUsername}" th:text="${err}"></div>
            </div>

            <!-- Nome -->
            <div class="mb-3">
                <label for="nome" class="form-label">Nome</label>
                <input type="text" id="nome" name="nome" class="form-control" required 
                       placeholder="Inserisci qui il tuo nome"
                       th:value="${nome != null} ? ${nome} : ''">
                <div th:if="${errorsNome != null}" class="text-danger small" th:each="err : ${errorsNome}" th:text="${err}"></div>
            </div>

            <!-- Cognome -->
            <div class="mb-3">
                <label for="cognome" class="form-label">Cognome</label>
                <input type="text" id="cognome" name="cognome" class="form-control" required 
                       placeholder="Inserisci qui il tuo cognome"
                       th:value="${cognome != null} ? ${cognome} : ''">
                <div th:if="${errorsCognome != null}" class="text-danger small" th:each="err : ${errorsCognome}" th:text="${err}"></div>
            </div>

            <!-- Email -->
            <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input type="email" id="email" name="email" class="form-control" required 
                       placeholder="Inserisci qui la tua email"
                       th:value="${email != null} ? ${email} : ''">
                <div th:if="${errorsEmail != null}" class="text-danger small" th:each="err : ${errorsEmail}" th:text="${err}"></div>
            </div>

            <!-- Data di nascita -->
            <div class="mb-3">
                <label for="dataNascita" class="form-label">Data di nascita</label>
                <input type="date" id="dataNascita" name="dataNascita" class="form-control" required 
                       th:value="${dataNascita != null} ? ${dataNascita} : ''">
                <div th:if="${errorsDataNascita != null}" class="text-danger small" th:each="err : ${errorsDataNascita}" th:text="${err}"></div>
            </div>

            <!-- Password -->
            <div class="mb-3">
                <label for="password" class="form-label">Password</label>
                <input type="password" id="password" name="password" class="form-control" required 
                       placeholder="Inserisci qui la tua password">
                <div th:if="${errorsPassword != null}" class="text-danger small" th:each="err : ${errorsPassword}" th:text="${err}"></div>
            </div>

            <!-- Conferma Password -->
            <div class="mb-3">
                <label for="passwordConfirm" class="form-label">Conferma Password</label>
                <input type="password" id="passwordConfirm" name="passwordConfirm" class="form-control" required 
                       placeholder="Conferma qui la tua password">
                <div th:if="${errorsPasswordConfirm != null}" class="text-danger small" th:each="err : ${errorsPasswordConfirm}" th:text="${err}"></div>
            </div>

            <button type="submit" class="btn btn-primary">Registrati</button>
        </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" 
            integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
</body>
</html>
